{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{useSearchParams,useNavigate}from'react-router-dom';import Header from'../components/Header';import Footer from'../components/Footer';import SearchBar from'../components/SearchBar';import Tabs from'../components/Tabs';import ResultsList from'../components/ResultsList';import WeatherCard from'../components/WeatherCard';import CalculatorCard from'../components/CalculatorCard';import QuickAnswerCard from'../components/QuickAnswerCard';import KnowledgeCard from'../components/KnowledgeCard';import{generateMockResults}from'../utils/mockResults';import{isWeatherQuery,extractCity,isMathQuery,isTimeQuery,isDefineQuery,isKnowledgeQuery}from'../utils/queryParser';import'./ResultsPage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResultsPage=_ref=>{let{isOffline}=_ref;const[searchParams]=useSearchParams();const navigate=useNavigate();const query=searchParams.get('q')||'';const isLucky=searchParams.get('lucky')==='true';const[activeTab,setActiveTab]=useState('All');const[results,setResults]=useState([]);const firstResultRef=useRef(null);useEffect(()=>{if(query){const mockResults=generateMockResults(query,10);setResults(mockResults);}},[query]);// Handle \"I'm Feeling Lucky\" - scroll to first result\nuseEffect(()=>{if(isLucky&&results.length>0&&firstResultRef.current){setTimeout(()=>{firstResultRef.current.scrollIntoView({behavior:'smooth',block:'center'});},300);}},[isLucky,results]);const handleSearch=newQuery=>{navigate(\"/search?q=\".concat(encodeURIComponent(newQuery)));};// Determine which special cards to show\nconst showWeather=isWeatherQuery(query);const showCalculator=isMathQuery(query);const showTime=isTimeQuery(query);const showDefine=isDefineQuery(query);const showKnowledge=isKnowledgeQuery(query);const knowledgeTopic=query.toLowerCase().split(' ')[0];return/*#__PURE__*/_jsxs(\"div\",{className:\"results-page\",children:[/*#__PURE__*/_jsxs(\"header\",{className:\"results-header\",children:[/*#__PURE__*/_jsx(Header,{minimal:true}),/*#__PURE__*/_jsx(\"div\",{className:\"results-search-row\",children:/*#__PURE__*/_jsx(SearchBar,{initialValue:query,size:\"small\",onSearch:handleSearch})}),/*#__PURE__*/_jsx(Tabs,{activeTab:activeTab,onTabChange:setActiveTab})]}),/*#__PURE__*/_jsx(\"main\",{className:\"results-main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"results-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"results-left\",children:[showWeather&&/*#__PURE__*/_jsx(WeatherCard,{city:extractCity(query),isOffline:isOffline}),showCalculator&&/*#__PURE__*/_jsx(CalculatorCard,{expression:query}),showTime&&/*#__PURE__*/_jsx(QuickAnswerCard,{query:query,type:\"time\"}),showDefine&&/*#__PURE__*/_jsx(QuickAnswerCard,{query:query,type:\"define\"}),/*#__PURE__*/_jsx(\"div\",{ref:firstResultRef,children:/*#__PURE__*/_jsx(ResultsList,{results:results,highlightFirst:isLucky})})]}),/*#__PURE__*/_jsx(\"aside\",{className:\"results-right\",children:showKnowledge&&/*#__PURE__*/_jsx(KnowledgeCard,{topic:knowledgeTopic})})]})}),/*#__PURE__*/_jsx(Footer,{})]});};export default ResultsPage;","map":{"version":3,"names":["React","useState","useEffect","useRef","useSearchParams","useNavigate","Header","Footer","SearchBar","Tabs","ResultsList","WeatherCard","CalculatorCard","QuickAnswerCard","KnowledgeCard","generateMockResults","isWeatherQuery","extractCity","isMathQuery","isTimeQuery","isDefineQuery","isKnowledgeQuery","jsx","_jsx","jsxs","_jsxs","ResultsPage","_ref","isOffline","searchParams","navigate","query","get","isLucky","activeTab","setActiveTab","results","setResults","firstResultRef","mockResults","length","current","setTimeout","scrollIntoView","behavior","block","handleSearch","newQuery","concat","encodeURIComponent","showWeather","showCalculator","showTime","showDefine","showKnowledge","knowledgeTopic","toLowerCase","split","className","children","minimal","initialValue","size","onSearch","onTabChange","city","expression","type","ref","highlightFirst","topic"],"sources":["C:/Users/AME/claude-local-app/google-search-app/src/pages/ResultsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSearchParams, useNavigate } from 'react-router-dom';\r\nimport Header from '../components/Header';\r\nimport Footer from '../components/Footer';\r\nimport SearchBar from '../components/SearchBar';\r\nimport Tabs from '../components/Tabs';\r\nimport ResultsList from '../components/ResultsList';\r\nimport WeatherCard from '../components/WeatherCard';\r\nimport CalculatorCard from '../components/CalculatorCard';\r\nimport QuickAnswerCard from '../components/QuickAnswerCard';\r\nimport KnowledgeCard from '../components/KnowledgeCard';\r\nimport { generateMockResults } from '../utils/mockResults';\r\nimport {\r\n    isWeatherQuery,\r\n    extractCity,\r\n    isMathQuery,\r\n    isTimeQuery,\r\n    isDefineQuery,\r\n    isKnowledgeQuery,\r\n} from '../utils/queryParser';\r\nimport './ResultsPage.css';\r\n\r\nconst ResultsPage = ({ isOffline }) => {\r\n    const [searchParams] = useSearchParams();\r\n    const navigate = useNavigate();\r\n    const query = searchParams.get('q') || '';\r\n    const isLucky = searchParams.get('lucky') === 'true';\r\n\r\n    const [activeTab, setActiveTab] = useState('All');\r\n    const [results, setResults] = useState([]);\r\n    const firstResultRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        if (query) {\r\n            const mockResults = generateMockResults(query, 10);\r\n            setResults(mockResults);\r\n        }\r\n    }, [query]);\r\n\r\n    // Handle \"I'm Feeling Lucky\" - scroll to first result\r\n    useEffect(() => {\r\n        if (isLucky && results.length > 0 && firstResultRef.current) {\r\n            setTimeout(() => {\r\n                firstResultRef.current.scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n            }, 300);\r\n        }\r\n    }, [isLucky, results]);\r\n\r\n    const handleSearch = (newQuery) => {\r\n        navigate(`/search?q=${encodeURIComponent(newQuery)}`);\r\n    };\r\n\r\n    // Determine which special cards to show\r\n    const showWeather = isWeatherQuery(query);\r\n    const showCalculator = isMathQuery(query);\r\n    const showTime = isTimeQuery(query);\r\n    const showDefine = isDefineQuery(query);\r\n    const showKnowledge = isKnowledgeQuery(query);\r\n    const knowledgeTopic = query.toLowerCase().split(' ')[0];\r\n\r\n    return (\r\n        <div className=\"results-page\">\r\n            <header className=\"results-header\">\r\n                <Header minimal={true} />\r\n                <div className=\"results-search-row\">\r\n                    <SearchBar\r\n                        initialValue={query}\r\n                        size=\"small\"\r\n                        onSearch={handleSearch}\r\n                    />\r\n                </div>\r\n                <Tabs activeTab={activeTab} onTabChange={setActiveTab} />\r\n            </header>\r\n\r\n            <main className=\"results-main\">\r\n                <div className=\"results-content\">\r\n                    <div className=\"results-left\">\r\n                        {/* Special Answer Cards */}\r\n                        {showWeather && (\r\n                            <WeatherCard city={extractCity(query)} isOffline={isOffline} />\r\n                        )}\r\n                        {showCalculator && (\r\n                            <CalculatorCard expression={query} />\r\n                        )}\r\n                        {showTime && (\r\n                            <QuickAnswerCard query={query} type=\"time\" />\r\n                        )}\r\n                        {showDefine && (\r\n                            <QuickAnswerCard query={query} type=\"define\" />\r\n                        )}\r\n\r\n                        {/* Results List */}\r\n                        <div ref={firstResultRef}>\r\n                            <ResultsList results={results} highlightFirst={isLucky} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <aside className=\"results-right\">\r\n                        {showKnowledge && (\r\n                            <KnowledgeCard topic={knowledgeTopic} />\r\n                        )}\r\n                    </aside>\r\n                </div>\r\n            </main>\r\n\r\n            <Footer />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ResultsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}