{"ast":null,"code":"import React,{useState,useEffect}from'react';import{fetchWeatherForCity,getCachedWeather}from'../utils/weatherApi';import'./WeatherCard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const WeatherCard=_ref=>{let{city,isOffline}=_ref;const[weather,setWeather]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchWeather=async()=>{setLoading(true);setError(null);if(isOffline){const cached=getCachedWeather();if(cached){setWeather(cached);}else{setError('Weather data unavailable offline');}setLoading(false);return;}try{const data=await fetchWeatherForCity(city);setWeather(data);}catch(err){const cached=getCachedWeather();if(cached){setWeather(cached);setError('Using cached data');}else{setError('Could not fetch weather data');}}finally{setLoading(false);}};fetchWeather();},[city,isOffline]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"weather-card loading\",children:/*#__PURE__*/_jsx(\"div\",{className:\"weather-loading\",children:\"Loading weather...\"})});}if(error&&!weather){return/*#__PURE__*/_jsx(\"div\",{className:\"weather-card error\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u26A0\\uFE0F \",error]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"weather-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"weather-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"weather-emoji\",children:weather.emoji}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-location\",children:[/*#__PURE__*/_jsx(\"h3\",{children:weather.city}),/*#__PURE__*/_jsx(\"span\",{children:weather.country})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-temp\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"temp-value\",children:[weather.temperature,\"\\xB0F\"]}),/*#__PURE__*/_jsx(\"span\",{className:\"weather-desc\",children:weather.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCA7 Humidity: \",weather.humidity,\"%\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"\\uD83D\\uDCA8 Wind: \",weather.windSpeed,\" mph\"]})]}),(weather.fromCache||error)&&/*#__PURE__*/_jsx(\"p\",{className:\"weather-cache-note\",children:weather.isStale?'‚ö†Ô∏è Cached data (may be outdated)':'üì¶ From cache'})]});};export default WeatherCard;","map":{"version":3,"names":["React","useState","useEffect","fetchWeatherForCity","getCachedWeather","jsx","_jsx","jsxs","_jsxs","WeatherCard","_ref","city","isOffline","weather","setWeather","loading","setLoading","error","setError","fetchWeather","cached","data","err","className","children","emoji","country","temperature","description","humidity","windSpeed","fromCache","isStale"],"sources":["C:/Users/AME/claude-local-app/google-search-app/src/components/WeatherCard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { fetchWeatherForCity, getCachedWeather } from '../utils/weatherApi';\r\nimport './WeatherCard.css';\r\n\r\nconst WeatherCard = ({ city, isOffline }) => {\r\n    const [weather, setWeather] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const fetchWeather = async () => {\r\n            setLoading(true);\r\n            setError(null);\r\n\r\n            if (isOffline) {\r\n                const cached = getCachedWeather();\r\n                if (cached) {\r\n                    setWeather(cached);\r\n                } else {\r\n                    setError('Weather data unavailable offline');\r\n                }\r\n                setLoading(false);\r\n                return;\r\n            }\r\n\r\n            try {\r\n                const data = await fetchWeatherForCity(city);\r\n                setWeather(data);\r\n            } catch (err) {\r\n                const cached = getCachedWeather();\r\n                if (cached) {\r\n                    setWeather(cached);\r\n                    setError('Using cached data');\r\n                } else {\r\n                    setError('Could not fetch weather data');\r\n                }\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchWeather();\r\n    }, [city, isOffline]);\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"weather-card loading\">\r\n                <div className=\"weather-loading\">Loading weather...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error && !weather) {\r\n        return (\r\n            <div className=\"weather-card error\">\r\n                <p>‚ö†Ô∏è {error}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"weather-card\">\r\n            <div className=\"weather-header\">\r\n                <span className=\"weather-emoji\">{weather.emoji}</span>\r\n                <div className=\"weather-location\">\r\n                    <h3>{weather.city}</h3>\r\n                    <span>{weather.country}</span>\r\n                </div>\r\n            </div>\r\n            <div className=\"weather-temp\">\r\n                <span className=\"temp-value\">{weather.temperature}¬∞F</span>\r\n                <span className=\"weather-desc\">{weather.description}</span>\r\n            </div>\r\n            <div className=\"weather-details\">\r\n                <span>üíß Humidity: {weather.humidity}%</span>\r\n                <span>üí® Wind: {weather.windSpeed} mph</span>\r\n            </div>\r\n            {(weather.fromCache || error) && (\r\n                <p className=\"weather-cache-note\">\r\n                    {weather.isStale ? '‚ö†Ô∏è Cached data (may be outdated)' : 'üì¶ From cache'}\r\n                </p>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default WeatherCard;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,mBAAmB,CAAEC,gBAAgB,KAAQ,qBAAqB,CAC3E,MAAO,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE3B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAyB,IAAxB,CAAEC,IAAI,CAAEC,SAAU,CAAC,CAAAF,IAAA,CACpC,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGf,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACgB,KAAK,CAAEC,QAAQ,CAAC,CAAGjB,QAAQ,CAAC,IAAI,CAAC,CAExCC,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAiB,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC7BH,UAAU,CAAC,IAAI,CAAC,CAChBE,QAAQ,CAAC,IAAI,CAAC,CAEd,GAAIN,SAAS,CAAE,CACX,KAAM,CAAAQ,MAAM,CAAGhB,gBAAgB,CAAC,CAAC,CACjC,GAAIgB,MAAM,CAAE,CACRN,UAAU,CAACM,MAAM,CAAC,CACtB,CAAC,IAAM,CACHF,QAAQ,CAAC,kCAAkC,CAAC,CAChD,CACAF,UAAU,CAAC,KAAK,CAAC,CACjB,OACJ,CAEA,GAAI,CACA,KAAM,CAAAK,IAAI,CAAG,KAAM,CAAAlB,mBAAmB,CAACQ,IAAI,CAAC,CAC5CG,UAAU,CAACO,IAAI,CAAC,CACpB,CAAE,MAAOC,GAAG,CAAE,CACV,KAAM,CAAAF,MAAM,CAAGhB,gBAAgB,CAAC,CAAC,CACjC,GAAIgB,MAAM,CAAE,CACRN,UAAU,CAACM,MAAM,CAAC,CAClBF,QAAQ,CAAC,mBAAmB,CAAC,CACjC,CAAC,IAAM,CACHA,QAAQ,CAAC,8BAA8B,CAAC,CAC5C,CACJ,CAAC,OAAS,CACNF,UAAU,CAAC,KAAK,CAAC,CACrB,CACJ,CAAC,CAEDG,YAAY,CAAC,CAAC,CAClB,CAAC,CAAE,CAACR,IAAI,CAAEC,SAAS,CAAC,CAAC,CAErB,GAAIG,OAAO,CAAE,CACT,mBACIT,IAAA,QAAKiB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,cACjClB,IAAA,QAAKiB,SAAS,CAAC,iBAAiB,CAAAC,QAAA,CAAC,oBAAkB,CAAK,CAAC,CACxD,CAAC,CAEd,CAEA,GAAIP,KAAK,EAAI,CAACJ,OAAO,CAAE,CACnB,mBACIP,IAAA,QAAKiB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,cAC/BhB,KAAA,MAAAgB,QAAA,EAAG,eAAG,CAACP,KAAK,EAAI,CAAC,CAChB,CAAC,CAEd,CAEA,mBACIT,KAAA,QAAKe,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBhB,KAAA,QAAKe,SAAS,CAAC,gBAAgB,CAAAC,QAAA,eAC3BlB,IAAA,SAAMiB,SAAS,CAAC,eAAe,CAAAC,QAAA,CAAEX,OAAO,CAACY,KAAK,CAAO,CAAC,cACtDjB,KAAA,QAAKe,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC7BlB,IAAA,OAAAkB,QAAA,CAAKX,OAAO,CAACF,IAAI,CAAK,CAAC,cACvBL,IAAA,SAAAkB,QAAA,CAAOX,OAAO,CAACa,OAAO,CAAO,CAAC,EAC7B,CAAC,EACL,CAAC,cACNlB,KAAA,QAAKe,SAAS,CAAC,cAAc,CAAAC,QAAA,eACzBhB,KAAA,SAAMe,SAAS,CAAC,YAAY,CAAAC,QAAA,EAAEX,OAAO,CAACc,WAAW,CAAC,OAAE,EAAM,CAAC,cAC3DrB,IAAA,SAAMiB,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAEX,OAAO,CAACe,WAAW,CAAO,CAAC,EAC1D,CAAC,cACNpB,KAAA,QAAKe,SAAS,CAAC,iBAAiB,CAAAC,QAAA,eAC5BhB,KAAA,SAAAgB,QAAA,EAAM,yBAAa,CAACX,OAAO,CAACgB,QAAQ,CAAC,GAAC,EAAM,CAAC,cAC7CrB,KAAA,SAAAgB,QAAA,EAAM,qBAAS,CAACX,OAAO,CAACiB,SAAS,CAAC,MAAI,EAAM,CAAC,EAC5C,CAAC,CACL,CAACjB,OAAO,CAACkB,SAAS,EAAId,KAAK,gBACxBX,IAAA,MAAGiB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAC5BX,OAAO,CAACmB,OAAO,CAAG,kCAAkC,CAAG,eAAe,CACxE,CACN,EACA,CAAC,CAEd,CAAC,CAED,cAAe,CAAAvB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}